{"swagger":"2.0","info":{"description":"提供前端对接的接口文档","version":"3.8.9","title":"接口文档"},"host":"localhost:7080","basePath":"/outside-cmb","tags":[{"name":"1.用户登陆/获取数据","description":"Account Controller"},{"name":"2.诊金券","description":"Coupon Controller"},{"name":"index-controller","description":"Index Controller"}],"paths":{"/index":{"get":{"tags":["index-controller"],"summary":"index","operationId":"indexUsingGET","produces":["*/*"],"parameters":[{"name":"errcode","in":"query","description":"errcode","required":false,"type":"string"},{"name":"id","in":"query","description":"id","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/account/base":{"get":{"tags":["1.用户登陆/获取数据"],"summary":"1-5.查询用户的基本信息","operationId":"getAccountUsingGET","produces":["*/*"],"parameters":[{"name":"token","in":"query","description":"登陆后获取的用户凭证","required":true,"type":"string"}],"responses":{"200":{"description":"用户信息","schema":{"$ref":"#/definitions/用户数据"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/account/concat/password":{"post":{"tags":["1.用户登陆/获取数据"],"summary":"1-3.使用账号密码关联账号","operationId":"concatByPasswordUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"concatAccountVo","description":"concatAccountVo","required":true,"schema":{"$ref":"#/definitions/关联账号"}}],"responses":{"200":{"description":"登陆成功发放用户凭证","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/account/concat/phone":{"post":{"tags":["1.用户登陆/获取数据"],"summary":"1-4.使用手机号关联账号","operationId":"concatByPhoneUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"concatAccountVo","description":"concatAccountVo","required":true,"schema":{"$ref":"#/definitions/关联账号"}}],"responses":{"200":{"description":"登陆成功发放用户凭证","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/account/external/{id}":{"get":{"tags":["1.用户登陆/获取数据"],"summary":"1-2.查询用户信息,获取用户手机号","operationId":"cmbAccountUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"由招行联登回调获取的查询ID","required":true,"type":"string"}],"responses":{"200":{"description":"招行用户信息","schema":{"$ref":"#/definitions/关联用户"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/account/union-login/url":{"get":{"tags":["1.用户登陆/获取数据"],"summary":"1-1.获取联合登陆URL","operationId":"getLoginUrlUsingGET","produces":["*/*"],"responses":{"200":{"description":"返回联合登陆URL","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/coupon/activation":{"post":{"tags":["2.诊金券"],"summary":"1-2.激活诊金券","operationId":"activationUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"token","in":"query","description":"登陆后获取的用户凭证","required":true,"type":"string"}],"responses":{"200":{"description":"被激活的诊金券","schema":{"$ref":"#/definitions/诊金券"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/v1/coupon/list":{"get":{"tags":["2.诊金券"],"summary":"1-1.查询诊金券列表","operationId":"listUsingGET","produces":["*/*"],"parameters":[{"name":"token","in":"query","description":"登陆后获取的用户凭证","required":true,"type":"string"}],"responses":{"200":{"description":"诊金券列表","schema":{"$ref":"#/definitions/诊金券页展示"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"ResponseEntity":{"type":"object","properties":{"body":{"type":"object"},"statusCode":{"type":"string","enum":["100 CONTINUE","101 SWITCHING_PROTOCOLS","102 PROCESSING","103 CHECKPOINT","200 OK","201 CREATED","202 ACCEPTED","203 NON_AUTHORITATIVE_INFORMATION","204 NO_CONTENT","205 RESET_CONTENT","206 PARTIAL_CONTENT","207 MULTI_STATUS","208 ALREADY_REPORTED","226 IM_USED","300 MULTIPLE_CHOICES","301 MOVED_PERMANENTLY","302 FOUND","302 MOVED_TEMPORARILY","303 SEE_OTHER","304 NOT_MODIFIED","305 USE_PROXY","307 TEMPORARY_REDIRECT","308 PERMANENT_REDIRECT","400 BAD_REQUEST","401 UNAUTHORIZED","402 PAYMENT_REQUIRED","403 FORBIDDEN","404 NOT_FOUND","405 METHOD_NOT_ALLOWED","406 NOT_ACCEPTABLE","407 PROXY_AUTHENTICATION_REQUIRED","408 REQUEST_TIMEOUT","409 CONFLICT","410 GONE","411 LENGTH_REQUIRED","412 PRECONDITION_FAILED","413 PAYLOAD_TOO_LARGE","413 REQUEST_ENTITY_TOO_LARGE","414 URI_TOO_LONG","414 REQUEST_URI_TOO_LONG","415 UNSUPPORTED_MEDIA_TYPE","416 REQUESTED_RANGE_NOT_SATISFIABLE","417 EXPECTATION_FAILED","418 I_AM_A_TEAPOT","419 INSUFFICIENT_SPACE_ON_RESOURCE","420 METHOD_FAILURE","421 DESTINATION_LOCKED","422 UNPROCESSABLE_ENTITY","423 LOCKED","424 FAILED_DEPENDENCY","426 UPGRADE_REQUIRED","428 PRECONDITION_REQUIRED","429 TOO_MANY_REQUESTS","431 REQUEST_HEADER_FIELDS_TOO_LARGE","451 UNAVAILABLE_FOR_LEGAL_REASONS","500 INTERNAL_SERVER_ERROR","501 NOT_IMPLEMENTED","502 BAD_GATEWAY","503 SERVICE_UNAVAILABLE","504 GATEWAY_TIMEOUT","505 HTTP_VERSION_NOT_SUPPORTED","506 VARIANT_ALSO_NEGOTIATES","507 INSUFFICIENT_STORAGE","508 LOOP_DETECTED","509 BANDWIDTH_LIMIT_EXCEEDED","510 NOT_EXTENDED","511 NETWORK_AUTHENTICATION_REQUIRED"]},"statusCodeValue":{"type":"integer","format":"int32"}},"title":"ResponseEntity"},"关联用户":{"type":"object","properties":{"cmbUserId":{"type":"string","description":"用户在的唯一标识"},"existYct":{"type":"boolean","description":"是否可直接关联用户"},"mobile":{"type":"string","description":"关联用户手机号"}},"title":"关联用户"},"关联账号":{"type":"object","required":["account","cmduserid"],"properties":{"account":{"type":"string","description":"用户的手机号"},"cmduserid":{"type":"string","description":"用户在的唯一ID"},"password":{"type":"string","description":"用户的账号密码,仅在密码登陆时需要"}},"title":"关联账号"},"用户数据":{"type":"object","properties":{"account":{"type":"string","description":"用户账号"},"appCode":{"type":"string","description":"平台编码"},"appId":{"type":"string","description":"应用编码"},"mobile":{"type":"string","description":"绑定手机号"},"name":{"type":"string","description":"用户名"},"userId":{"type":"string","description":"用户唯一标识"},"waitActivationNum":{"type":"integer","format":"int32","description":"用户剩余待激活诊金券数量"}},"title":"用户数据"},"诊金券":{"type":"object","properties":{"money":{"type":"integer","format":"int32","description":"面额,单位:元"},"type":{"type":"integer","format":"int32","description":"类型 0 诊金券 1会员兑换券"}},"title":"诊金券"},"诊金券页展示":{"type":"object","properties":{"count":{"type":"integer","format":"int32","description":"剩余诊金券数量"},"countdown":{"type":"integer","format":"int64","description":"下次可激活时间戳,如可马上激活则为null"},"coupons":{"type":"array","description":"诊金券列表","items":{"$ref":"#/definitions/诊金券"}}},"title":"诊金券页展示"}}}